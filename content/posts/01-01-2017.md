---
date: 2015-09-24
title: 'Introduction to MySQL'
template: page
thumbnail: '../thumbnails/git.png'
slug: introduction-to-mysql
categories:
  - Database
tags:
  - mysql
  - database
---

# Database
We store and use a lot of data in everyday life, from our name, age, height to books we read, stuff we buy from amazon. In order to efficiently manage the data we use, database/database management system is needed.

## What is Database and DBMS
Database is a collection of related data. Database management system (dbms), on the other hand, is a program written to acceess and manipulate data and to allow data to persist over a long time.<br>

There are some confusion related to difference between database and database management system, as people often just refer to DBMS as databases (for example, saying 'MySql database' or 'postgresSql database'). While we can still refer DBMS as databases, we have to remember that they do not mean the same thing.

#### DBMS examples
* MySql
* PostgresSQL
* SQLite
* SQL server
* Oracle

## SQL vs NoSQL
SQL stands for 'structured query language'. It is important to note that, SQL is query language whereas MySQL is database management system. SQL is used in many different DBMS such as MySql or PostgressSQL.<br>

NoSQL stands for 'Not only SQL'. NoSql databases are non-relational databases that scale out better than relational databases.

# SQL

## Useful Syntax

### Database
Listing available databases:
```sql
SHOW databases;
```

Creating a database:
```sql
CREATE DATABASE database_name;
```

Dropping a database:
```sql
DROP DATABASE database_name;
```

Using a database:
```sql
USE database_name;
```

Showing a current database:
```sql
SELECT database();
```

### Table
Creating a table:
```sql
CREATE TABLE cats
(
    cat_id INT
    name VARCHAR(100),
    age INT
);
```

Table with default value:
```sql
CREATE TABLE cats
(
    cat_id INT
    name VARCHAR(100) DEFAULT 'no name provided',
    age INT DEFAULT 99
);
```

Table with not null:
```sql
CREATE TABLE unique_cats
(
    cat_id INT NOT NULL,
    name VARCHAR(100),
    age INT,
);
```

Table with primary key:
```sql
CREATE TABLE unique_cats
(
    cat_id INT NOT NULL,
    name VARCHAR(100),
    age INT,
    PRIMARY KEY (cat_id)
);
```

Table with auto increment id:
```sql
CREATE TABLE cats 
( 
    cat_id INT NOT NULL AUTO_INCREMENT, 
    name   VARCHAR(100), 
    age    INT, 
    PRIMARY KEY (cat_id) 
); 
```

Dropping a table:
```sql
DROP TABLE cats;
```

Describing a table:
```sql
DESC cats;
```

### Inserting Data
Inserting single data:
```sql
INSERT INTO cats(name, age) VALUES ('Jetson', 7);
```

Inserting multiple data:
```sql
INSERT INTO table_name(column_name, column_name) 
VALUES  (value, value), 
        (value, value), 
        (value, value);
```

### CRUD
#### READ
Select all:
```sql
SELECT * FROM cats;
```

Select multiple:
```sql
SELECT cat_id, name, age FROM cats;
```

Select where:
```sql
SELECT * FROM cats WHERE age=4;
```

Select as:
```sql
SELECT name AS 'cat name', breed AS 'kitty breed' FROM cats;
```

#### UPDATE
Update the field:
```sql
UPDATE cats SET age=14 WHERE name='Misty';
```

#### DELETE
Delete records:
```sql
DELETE FROM cats WHERE name='Egg';
```

### String
Concat strings:
```sql
SELECT
    CONCAT(author_fname, ' ', author_lname)
    AS 'full name'
FROM books;
```

Get substring of string:
```sql
SELECT 
    SUBSTRING(title, 1, 10)
    AS 'short title'
FROM books;
```

Replace string:
```sql
SELECT 
    REPLACE(title, 'e ', '3') 
    AS 'replaced title'
FROM books;
```

Reverse string:
```sql
SELECT REVERSE(author_fname) FROM books;
```

Get length of string:
```sql
SELECT 
    author_lname, 
    CHAR_LENGTH(author_lname) 
    AS 'length' 
FROM books;
```

Get upper and lower case string:
```sql
SELECT 
    UPPER(title),
    LOWER(title)
FROM books;
```

### More Selections
Get distinct author's last name:
```sql
SELECT DISTINCT author_lname FROM books;
```

Order values by released year (default ascending order):
```sql
SELECT title, pages FROM books ORDER BY released_year;
```

Only select first 5 books:
```sql
SELECT title, released_year FROM books 
ORDER BY released_year DESC LIMIT 5;
```

Get books that ends with 'the':
```sql
SELECT title FROM books WHERE  title LIKE '%the';
```

Get books that have stock quantity of 4 digits:
```sql
SELECT title, stock_quantity FROM books WHERE stock_quantity LIKE '____';
```

### Functions
Get count of how ...:
```sql
SELECT COUNT(author_fname) FROM books;
```

Groups records together by auther's last name (eg. all authors with same last name will be in same group)
```sql
SELECT title, author_fname, author_lname FROM books GROUP BY author_lname;
```
Min:
```sql
SELECT MIN(pages)
FROM books;
```

Max:
```sql
SELECT MAX(pages) 
FROM books;
```

Get summation of values:
```sql
SELECT SUM(released_year) FROM books;
```

Get average of values:
```sql
SELECT AVG(released_year) 
FROM books;
```

### Data Types
#### CHAR vs VARCHAR
* VARCHAR is variable length, while CHAR is fixed length.<br>

* CHAR is a fixed length string data type, so any remaining space in the field is padded with blanks.
* VARCHAR is a variable length string data type, so it holds only the characters you assign to it


#### DECIMAL, FLOAT, DOUBLE
```sql
DECIMAL(p,s)
```
* p is the precision which is the maximum total number of decimal digits that will be stored, both to the left and to the right of the decimal point.
* s is the scale which is the number of decimal digits that will be stored to the right of the decimal point.

```sql
FLOAT(p)
```
p is the number of bits that are used to store the mantissa of the float number in scientific notation and, therefore, dictates the precision and storage size

```sql
DOUBLE(size, d)
```
The total number of digits is specified in size. The number of digits after the decimal point is specified in the d parameter

#### DATE, TIME, DATETIME
* Date 
    * YYYY-MM-DD

* Time
    * HH:MM:SS

* Datetime
    * YYYY-MM-DD HH:MM:SS

#### Formatting Dates
* DAY()
* MONTH()
* YEAR()

* DAYNAME()
* DAYOFWEEK()
* DAYOFYEAR()
* MONTHNAME()

* HOUR()
* MINUTE()

#### Logical Operators
Between:
```sql
SELECT title, released_year FROM books 
WHERE released_year BETWEEN 2004 AND 2015;
```

