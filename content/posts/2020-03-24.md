---
date: 2020-03-23
title: 'Introduction to MySQL - Part 2'
template: post
thumbnail: '../thumbnails/'
slug: introduction-to-mysql-part-two
categories:
  - Database
tags:
  - mysql
  - database
---

This is the second part of the series to MySQL and if you haven't, you can find the first part of this tutorial series [here](https://fullstackprogrammer.netlify.com/introduction-to-mysql-part-one).<br>

Previously, I gave brief introduction to database and talked about basic mysql commands such as creating database and table, inserting value into the table and CRUD (Create, Read, Update, Delete) operation. In this blog post, I would like to cover the following topics:

- Data Types
- String
- Selection
- Aggregate Function
- Logical Operators

### Data Types
In SQL, most data can be categorized under three main data types: numeric, string and date. While there are other categories such as unicode, binary and other miscellaneous types, I will not cover them here.<br>

#### Numeric
| Data Type | Description                                     |
|-----------|-------------------------------------------------|
| INT       | EXACT whole number                              |
| DECIMAL   | EXACT decimal number                            |
| FLOAT     | APPROXIMATE decimal number (7 digit precision)  |
| DOUBLE    | APPROXIMATE decimal number (15 digit precision) |

In SQL, numeric data tyeps are either **exact** or **approximate**. Here `INT`, `DECIMAL` are exact numbers and `FLOAT` and `DOUBLE` are approximate numbers. We usually use `DECIMAL` for decimal numbers, especially if we want to store important data that requires high precision such as bank information. This doesn't mean we shouldn't use `FLOAT` and `DOUBLE`, as they can store larger numbers using less space than `DECIMAL`.

#### String
| Data Type | Description                |
|-----------|----------------------------|
| CHAR      | FIXED length characters    |
| VARCHAR   | VARIABLE length characters |

`CHAR` is fixed length, meaning it uses exactly same memory space regardless of the characters it holds. If the user stores string that's shorter, string is right padded with space. If the user stores string that's longer, string is truncated to fit the length.<br>

`VARCHAR` is variable length, meaning it only assigns the needed space depending on the length of string.<br>

Most of the time, `VARCHAR` is used instead of `CHAR`. There are some cases, however, when `CHAR` is preferred over `VARCHAR`. For instance, you can use `CHAR` for storing state abbreviation such as 'T' and 'F' or you can use if for storing fixed length product codes like '024-5251'.<br>

#### Date



Concat strings:
```sql
SELECT
    CONCAT(author_fname, ' ', author_lname)
    AS 'full name'
FROM books;
```

Get substring of string:
```sql
SELECT 
    SUBSTRING(title, 1, 10)
    AS 'short title'
FROM books;
```

Replace string:
```sql
SELECT 
    REPLACE(title, 'e ', '3') 
    AS 'replaced title'
FROM books;
```

Reverse string:
```sql
SELECT REVERSE(author_fname) FROM books;
```

Get length of string:
```sql
SELECT 
    author_lname, 
    CHAR_LENGTH(author_lname) 
    AS 'length' 
FROM books;
```

Get upper and lower case string:
```sql
SELECT 
    UPPER(title),
    LOWER(title)
FROM books;
```

### More Selections
Get distinct author's last name:
```sql
SELECT DISTINCT author_lname FROM books;
```

Order values by released year (default ascending order):
```sql
SELECT title, pages FROM books ORDER BY released_year;
```

Only select first 5 books:
```sql
SELECT title, released_year FROM books 
ORDER BY released_year DESC LIMIT 5;
```

Get books that ends with 'the':
```sql
SELECT title FROM books WHERE  title LIKE '%the';
```

Get books that have stock quantity of 4 digits:
```sql
SELECT title, stock_quantity FROM books WHERE stock_quantity LIKE '____';
```

### Functions
Get count of how ...:
```sql
SELECT COUNT(author_fname) FROM books;
```

Groups records together by auther's last name (eg. all authors with same last name will be in same group)
```sql
SELECT title, author_fname, author_lname FROM books GROUP BY author_lname;
```
Min:
```sql
SELECT MIN(pages)
FROM books;
```

Max:
```sql
SELECT MAX(pages) 
FROM books;
```

Get summation of values:
```sql
SELECT SUM(released_year) FROM books;
```

Get average of values:
```sql
SELECT AVG(released_year) 
FROM books;
```

### Data Types
#### CHAR vs VARCHAR
* VARCHAR is variable length, while CHAR is fixed length.<br>

* CHAR is a fixed length string data type, so any remaining space in the field is padded with blanks.
* VARCHAR is a variable length string data type, so it holds only the characters you assign to it


#### DECIMAL, FLOAT, DOUBLE
```sql
DECIMAL(p,s)
```
* p is the precision which is the maximum total number of decimal digits that will be stored, both to the left and to the right of the decimal point.
* s is the scale which is the number of decimal digits that will be stored to the right of the decimal point.

```sql
FLOAT(p)
```
p is the number of bits that are used to store the mantissa of the float number in scientific notation and, therefore, dictates the precision and storage size

```sql
DOUBLE(size, d)
```
The total number of digits is specified in size. The number of digits after the decimal point is specified in the d parameter

#### DATE, TIME, DATETIME
* Date 
    * YYYY-MM-DD

* Time
    * HH:MM:SS

* Datetime
    * YYYY-MM-DD HH:MM:SS

#### Formatting Dates
* DAY()
* MONTH()
* YEAR()

* DAYNAME()
* DAYOFWEEK()
* DAYOFYEAR()
* MONTHNAME()

* HOUR()
* MINUTE()

#### Logical Operators

SELECT title FROM books WHERE released_year != 2017;

SELECT title FROM books WHERE title NOT LIKE 'W%';

SELECT title, released_year FROM books 
WHERE released_year > 2000 ORDER BY released_year;

SELECT title, released_year FROM books
WHERE released_year <= 2000;

SELECT 1 < 5 && 7 = 9;
-- false

SELECT 40 <= 100 || -2 > 0;

Between:
```sql
SELECT title, released_year FROM books 
WHERE released_year BETWEEN 2004 AND 2015;
```

SELECT title, author_lname FROM books
WHERE author_lname IN ('Carver', 'Lahiri', 'Smith');

SELECT title, released_year,
       CASE 
         WHEN released_year >= 2000 THEN 'Modern Lit'
         ELSE '20th Century Lit'
       END AS GENRE
FROM books;